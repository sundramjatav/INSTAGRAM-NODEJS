<% include ./partials/header.ejs %>
  <div class="w-full min-h-screen bg-zinc-900 text-white py-5">
    <div class="flex justify-between items-center px-4">
      <a class="text-sm text-blue-500 cursor-pointer" onclick="window.history.back()"><i class="ri-arrow-left-s-line"></i> profile</a>
      <h2 class="leading-none text-sm">Edit Profile</h2>
      <a class="text-sm" href="/"><i class="ri-home-line"></i> home</a>
    </div>
    <div class="flex flex-col items-center gap-2 mt-20">
      <div class="image w-20 h-20 bg-sky-100 rounded-full overflow-hidden">
        <img id="pictureImage" src="<%= user.picture != '' ? user.picture : 'https://imgs.search.brave.com/yYo41Q5qvaLWiWNyviXvPU4nki121Pua0Mxsht0Gnc8/rs:fit:860:0:0/g:ce/aHR0cHM6Ly9jZG4t/aWNvbnMtcG5nLmZs/YXRpY29uLmNvbS81/MTIvMTQ5LzE0OTA3/MS5wbmc'%>" class="w-full h-full object-cover">
      </div>
      <form hidden action="/update-picture" id="pictureForm" method="post" enctype="multipart/form-data">
        <input type="file" accept="image/*, image/png, image/jpg, image/jpeg" name="picture" id="selectInput">
      </form>
      <button onclick="selectPicBtn()" class="text-blue-500 capitalize">edit picture</button>
    </div>
    <div class="gap-5 px-4 mt-10">
      <h3 class="text-lg leading-none">Edit Account Details</h3>
      <hr class="opacity-30 my-3">
      <form class="w-full" action="/update-profile" method="post">
        <input disabled class="px-3 mt-2 py-2 border-2 border-zinc-800 rounded-md block w-full bg-zinc-900 md:text-sm" value="<%= user.username%>" type="text" placeholder="username" name="username">
        <input class="px-3 mt-2 py-2 border-2 border-zinc-800 rounded-md block w-full bg-zinc-900 md:text-sm" value="<%= user.name%>" type="text" placeholder="name" name="name">
        <input disabled class="px-3 mt-2 py-2 border-2 border-zinc-800 rounded-md block w-full bg-zinc-900 md:text-sm" value="<%= user.email%>" type="text" placeholder="email" name="email">
        <textarea class="px-3 mt-2 py-2 border-2 border-zinc-800 rounded-md block w-full bg-zinc-900 resize-none" placeholder="Bio" name="bio"><%= user.bio%></textarea>
        <input class="w-full bg-blue-500 px-3 py-3 rounded-md mt-2" type="submit" value="Update Details">
      </form>
    </div>
  </div>
  <script>
    function selectPicBtn(){
      document.querySelector("#selectInput").click()
    }
    document.querySelector("#selectInput").addEventListener("change",()=>{
      document.querySelector("#pictureForm").submit()
    })
  </script>
<% include ./partials/footer.ejs %>